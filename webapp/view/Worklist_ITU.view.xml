<mvc:View xmlns:c="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:smartfilterbar="sap.ui.comp.smartfilterbar"
	xmlns:smarttable="sap.ui.comp.smarttable" xmlns:t="sap.ui.table" controllerName="ZEFORM.PettyCash.controller.Worklist_ITU"
	xmlns:html="http://www.w3.org/1999/xhtml" xmlns:smartchart="sap.ui.comp.smartchart" xmlns:sl="sap.ui.comp.navpopover"
	xmlns:l="sap.ui.layout" xmlns:form="sap.ui.layout.form" xmlns:u="sap.ui.unified"
	xmlns:data="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
	<App>
		<pages>
			<Page title="Title" showHeader="false">
				<content>
					<smartfilterbar:SmartFilterBar id="smartFilterBar" initialise="onInitSmartFilterBar" basicSearchFieldName="Description"
						enableBasicSearch="true" entitySet="WORKLIST_ITUSet" considerSelectionVariants="true" persistencyKey="Worklist_ITU_Filter">
						<smartfilterbar:controlConfiguration>
							<smartfilterbar:ControlConfiguration key="Acc" label="Cost Ctr/Proj/IO/Bus.Area"/>
							<smartfilterbar:ControlConfiguration key="Status">
								<smartfilterbar:defaultFilterValues>
									<smartfilterbar:SelectOption low="06"/>
									<smartfilterbar:SelectOption low="08"/>
								</smartfilterbar:defaultFilterValues>
							</smartfilterbar:ControlConfiguration>
							<smartfilterbar:ControlConfiguration key="Reference1" label="Header Reference 1"></smartfilterbar:ControlConfiguration>
							<smartfilterbar:ControlConfiguration key="Reference2" label="Header Reference 2"></smartfilterbar:ControlConfiguration>
							<smartfilterbar:ControlConfiguration key="Reference3" label="Header Reference 3"></smartfilterbar:ControlConfiguration>
							<smartfilterbar:ControlConfiguration key="Reference4" label="Header Reference 4"></smartfilterbar:ControlConfiguration>
							<smartfilterbar:ControlConfiguration key="Reference5" label="Header Reference 5"></smartfilterbar:ControlConfiguration>
						</smartfilterbar:controlConfiguration>
						<smartfilterbar:layoutData>
							<FlexItemData shrinkFactor="0"/>
						</smartfilterbar:layoutData>
					</smartfilterbar:SmartFilterBar>
					<smarttable:SmartTable id="smarttable" entitySet="WORKLIST_ITUSet" tableType="Table" smartFilterId="smartFilterBar" editable="false"
						useExportToExcel="true" header="Worklist for ITU" showRowCount="true" enableAutoBinding="false" beforeRebindTable="onBeforeRebindTable"
						useVariantManagement="true" persistencyKey="Worklist_ITU_List" beforeExport="onBeforeExport" initialise="onInitSmartTable">
						<smarttable:customData>
							<c:CustomData key="p13nDialogSettings" value='\{ "filter": \{ "visible": false} }'/>
						</smarttable:customData>
						<smarttable:layoutData>
							<FlexItemData growFactor="1" baseSize="0%"/>
						</smarttable:layoutData>
						<smarttable:customToolbar>
							<OverflowToolbar design="Transparent">
								<ToolbarSpacer/>
								<OverflowToolbarButton icon="sap-icon://edit" press="onAmend" tooltip="Amend Batch"/>
								<OverflowToolbarButton icon="sap-icon://accept" press="onApprove" tooltip="Approve Batch"/>
								<OverflowToolbarButton icon="sap-icon://reset" press="openRejectDialog" tooltip="Reject Batch"/>
								<OverflowToolbarButton icon="sap-icon://batch-payments" press="onReplenish" tooltip="Replenish Petty Cash"/>
								<OverflowToolbarButton icon="sap-icon://detail-view" press="previewBatch" tooltip="Preview Batch"/>
								<OverflowToolbarButton icon="sap-icon://print" press="printBatch" tooltip="Print Batch"/>
								<OverflowToolbarButton icon="sap-icon://add-document" press="openDocDialog" tooltip="View Documents"/>
							</OverflowToolbar>
						</smarttable:customToolbar>
						<t:Table id="table" sort="sortTable" visibleRowCount="15" threshold="10000">
							<t:columns>
								<t:Column width="auto" minWidth="120px" sortProperty="Batchno"><Label text="{/#WORKLIST_ITU/Batchno/@sap:label}"/>
									<t:template>
										<Text text="{Batchno}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Batchno", "leadingProperty": "Batchno"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="120px" sortProperty="Claimno"><Label text="{/#WORKLIST_ITU/Claimno/@sap:label}"/>
									<t:template>
										<Link text="{Claimno}" press="onPressClaimno" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Claimno", "leadingProperty": "Claimno"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="300px" sortProperty="Statustext"><Label text="{/#WORKLIST_ITU/Status/@sap:label}"/>
									<t:template>
										<Text text="{Statustext}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Statustext", "leadingProperty": "Statustext"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="150px" sortProperty="Tolamt" hAlign="Right"><Label text="{/#WORKLIST_ITU/Tolamt/@sap:label}"/>
									<t:template>
										<Text text="{path: 'Tolamt', type:'sap.ui.model.type.Float', formatOptions: { minFractionDigits: 2, maxFractionDigits: 2 }}"
											wrapping="false" textAlign="Right"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Tolamt", "leadingProperty": "Tolamt"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="120px" sortProperty="ClaimName"><Label text="{/#WORKLIST_ITU/ClaimName/@sap:label}"/>
									<t:template>
										<Text text="{ClaimName}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "ClaimName", "leadingProperty": "ClaimName"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="200px" sortProperty="Acc"><Label text="{/#WORKLIST_ITU/Acc/@sap:label}"/>
									<t:template>
										<Text text="{Acc}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Acc", "leadingProperty": "Acc"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="120px" sortProperty="Account"><Label text="{/#WORKLIST_ITU/Account/@sap:label}"/>
									<t:template>
										<Text text="{Account}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Account", "leadingProperty": "Account"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="100px" sortProperty="CrtDate"><Label text="{/#WORKLIST_ITU/CrtDate/@sap:label}"/>
									<t:template>
										<Text text="{path: 'CrtDate', formatter:'.formatter.formatDate'}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "CrtDate", "leadingProperty": "CrtDate","type":"date"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="150px" sortProperty="Admin"><Label text="{/#WORKLIST_ITU/Admin/@sap:label}"/>
									<t:template>
										<Text text="{Admin}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Admin", "leadingProperty": "Admin"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="170px" sortProperty="Cusapbelnr"><Label text="{/#WORKLIST_ITU/Cusapbelnr/@sap:label}"/>
									<t:template>
										<Text text="{Cusapbelnr}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Cusapbelnr", "leadingProperty": "Cusapbelnr"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="150px" sortProperty=""><Label text="{/#WORKLIST_ITU/ClaimDatfr/@sap:label}"/>
									<t:template>
										<Text text="{path: 'ClaimDatfr', formatter:'.formatter.formatDate'}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "ClaimDatfr", "leadingProperty": "ClaimDatfr","type":"date"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="150px" sortProperty="ClaimDatto"><Label text="{/#WORKLIST_ITU/ClaimDatto/@sap:label}"/>
									<t:template>
										<Text text="{path: 'ClaimDatto', formatter:'.formatter.formatDate'}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "ClaimDatto", "leadingProperty": "ClaimDatto","type":"date"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="120px" sortProperty="Category"><Label text="{/#WORKLIST_ITU/Category/@sap:label}"/>
									<t:template>
										<Text text="{Category}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Category", "leadingProperty": "Category"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="120px" sortProperty="PcDept"><Label text="{/#WORKLIST_ITU/PcDept/@sap:label}"/>
									<t:template>
										<Text text="{PcDept}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "PcDept", "leadingProperty": "PcDept"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="220px" sortProperty="Batchamt" hAlign="Right"><Label text="{/#WORKLIST_ITU/Batchamt/@sap:label}"/>
									<t:template>
										<Text text="{path: 'Batchamt', type:'sap.ui.model.type.Float', formatOptions: { minFractionDigits: 2, maxFractionDigits: 2 }}"
											wrapping="false" textAlign="Right"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Batchamt", "leadingProperty": "Batchamt"}'/></t:customData>
								</t:Column>
								<t:Column width="auto" minWidth="160px" sortProperty="Cusapbudat"><Label text="{/#WORKLIST_ITU/Cusapbudat/@sap:label}"/>
									<t:template>
										<Text text="{path: 'Cusapbudat', formatter:'.formatter.formatDate'}" wrapping="false"/>
									</t:template>
									<t:customData><c:CustomData key="p13nData" value='\{"columnKey": "Cusapbudat","leadingProperty": "Cusapbudat","type":"date"}'/></t:customData>
								</t:Column>
							</t:columns>
						</t:Table>
					</smarttable:SmartTable>
				</content>
			</Page>
			<Page>
				<BusyDialog id="loadingDialog" title="Loading"/>
				<Dialog id="docDialog" title="Supporting Documents">
					<content>
						<Toolbar>
							<Toolbar>
								<content>
									<u:FileUploader id="docFile"/>
									<Button text="Upload" press="docAddRow"/>
									<Button text="Delete" press="docRemoveRow"/>
								</content>
							</Toolbar>
						</Toolbar>
						<Table id="docTable" mode="MultiSelect" fixedLayout="true" items="{Doc>/DOCSet}">
							<columns>
								<Column width="15rem">
									<Text text="File Name"/>
								</Column>
								<Column width="8rem">
									<Text text="Upload Date"/>
								</Column>
								<Column width="8rem">
									<Text text="FNO"/>
								</Column>
								<Column width="8rem">
									<Text text="Dept."/>
								</Column>
								<Column width="11rem">
									<Text text="Parent Folder"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<cells>
										<Link text="{Doc>Fname}" press="downloadDoc"/>
										<Text text="{path: 'Doc>Updat', formatter:'.formatter.formatDate'}"/>
										<Text text="{Doc>Fno}"/>
										<Text text="{Doc>Dept}"/>
										<Text text="{Doc>Parent}"/>
										<Text text="{Doc>Doctype}" visible="false"/>
										<Text text="{Doc>Content}" visible="false"/>
									</cells>
								</ColumnListItem>
							</items>
						</Table>
					</content>
					<buttons>
						<Button text="Save" press="doc"/>
						<Button text="Close" press="closeDocDialog"/>
					</buttons>
				</Dialog>
				<Dialog id="amendBatchDialog" title="Mass Update of Account Assignment" contentWidth="650px">
					<content>
						<l:Grid class="sapUiSmallMargin" defaultSpan="XL12 L12 M12 S12">
							<VBox>
								<layoutData>
									<l:GridData span="XL12 L12 M12 S12"/>
								</layoutData>
								<form:SimpleForm layout="ResponsiveGridLayout" singleContainerFullSize="true">
									<Label>
										<layoutData>
											<l:GridData span="XL6 L6 M6 S6"/>
										</layoutData>
									</Label>
									<Text text="From" textAlign="Center">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Text>
									<Text text="To" textAlign="Center">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Text>
									<Label text="Business Area">
										<layoutData>
											<l:GridData span="XL6 L6 M6 S6"/>
										</layoutData>
									</Label>
									<Input showValueHelp="true">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Input>
									<Input showValueHelp="true">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Input>
									<Label text="Cost Centre">
										<layoutData>
											<l:GridData span="XL6 L6 M6 S6"/>
										</layoutData>
									</Label>
									<Input showValueHelp="true">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Input>
									<Input showValueHelp="true">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Input>
									<Label text="Project">
										<layoutData>
											<l:GridData span="XL6 L6 M6 S6"/>
										</layoutData>
									</Label>
									<Input showValueHelp="true">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Input>
									<Input showValueHelp="true">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Input>
									<Label text="Internal Order">
										<layoutData>
											<l:GridData span="XL6 L6 M6 S6"/>
										</layoutData>
									</Label>
									<Input showValueHelp="true">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Input>
									<Input showValueHelp="true">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Input>
									<Label text="G/L Account">
										<layoutData>
											<l:GridData span="XL6 L6 M6 S6"/>
										</layoutData>
									</Label>
									<Input showValueHelp="true">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Input>
									<Input showValueHelp="true">
										<layoutData>
											<l:GridData span="XL3 L3 M3 S3"/>
										</layoutData>
									</Input>
								</form:SimpleForm>
							</VBox>
						</l:Grid>
					</content>
					<buttons>
						<Button text="Save" press="prepare"/>
						<Button text="Cancel" press="cancelAmendBatch"/>
					</buttons>
				</Dialog>
				<Dialog id="rejectDialog" title="Reason to Reject">
					<content>
						<TextArea id="rejectTextArea" growing="true" rows="8" maxLength="500" width="500px"/>
					</content>
					<buttons>
						<Button text="OK" press="onReject"/>
						<Button text="Cancel" press="closeRejectDialog"/>
					</buttons>
				</Dialog>
			</Page>
		</pages>
	</App>
</mvc:View>